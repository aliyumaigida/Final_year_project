<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Breast Cancer Prediction</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body style="background-color: #000000;">
  <div class="container mt-3">
    <h1 class="mb-4 text-white text-center">Breast Cancer Prediction</h1>

    {% if results %}
      <div class="alert alert-success">
        <h5 class="text-center">Prediction Results:</h5>
        <ul>
          {% for res in results %}
            <li>{{ res }}</li>
          {% endfor %}
        </ul>
      </div>
    {% elif result %}
      <div class="alert alert-success text-center">Prediction: {{ result }}</div>
    {% elif error %}
      <div class="alert alert-danger text-center">Error: {{ error }}</div>
    {% endif %}

    <p class="text-white fs-5 text-center">
      This tool helps predict the likelihood of breast cancer based on medical input data using a Deep learning CNN.
      <!-- <br>Fill in the required medical details manually or upload a CSV file. -->
    </p>

    <!-- === Manual Input Form === -->
    <!-- <div class="card mb-5">
      <div class="card-header">Manual Input</div>
      <div class="card-body">
        <form method="POST" style="max-height: 70vh; overflow-y: auto;">
          {% csrf_token %}
          {% for feature in feature_names %}
            <div class="mb-3">
              <label for="{{ feature }}" class="form-label text-success">{{ feature }}</label>
              <input type="number" step="any" class="form-control card-header" id="{{ feature }}" name="{{ feature }}" required>
            </div>
          {% endfor %}
          <button type="submit" class="btn btn-primary mt-3 mb-4">Predict Manually</button>
        </form>
      </div>
    </div> -->

    <!-- === CSV Upload Form === -->
    <form method="POST" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="mb-3">
        <label class="form-label text-white">Choose a CSV File</label>
        <input type="file" class="form-control" name="csv_file" accept=".csv" required>
      </div>

      <div class="mb-3">
        <label class="form-label text-white">Start Patient_ID (0-based)</label>
        <input type="number" class="form-control" name="start_index" value="0" min="0" required>
      </div>

      <div class="mb-3">
        <label class="form-label text-white">End Patient_ID (exclusive)</label>
        <input type="number" class="form-control" name="end_index" value="1" min="1" required>
      </div>

      <button type="submit" class="btn btn-light mb-3">Upload & Predict</button>
      <a href="{% url 'prediction' %}" class="btn btn-primary mb-3 text-white" style="text-decoration: none;">Back to First Page</a>
    </form>
  </div>
</body>
</html>
